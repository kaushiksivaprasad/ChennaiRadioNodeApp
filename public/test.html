<script>
    var ws = new WebSocket("ws://localhost:8080/57df1d7f93323570018b6ecf/ws");

    ws.onopen = function() {
        // Web Socket is connected, send data using send()
        // ws.send("Message to send");
        console.log("open");
    };
    ws.onmessage = function(evt) {
        var received_msg = evt.data;

        console.log(received_msg);
        let mess = JSON.parse(received_msg)
        // alert("Message is received...");
        let img = document.getElementById('img1');
        if(!img){
          img = document.createElement('img');
          document.body.appendChild(img);
          img.id = 'img1';
        }
        img.src = mess.mess[0].bufferUrl;
    };

    ws.onclose = function() {
        // websocket is closed.
        console.log("Connection is closed...");
    };
    // ws.onmessage = function(evt) {
    //     var received_msg = evt.data;
    //     alert("Message is received...");
    // };
    //
    // ws.onclose = function() {
    //     // websocket is closed.
    //     alert("Connection is closed...");
    // };
</script>
